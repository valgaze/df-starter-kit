(function(e){function t(t){for(var a,r,o=t[0],c=t[1],l=t[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&m.push(n[r][0]),n[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],a=!0,o=1;o<s.length;o++){var c=s[o];0!==n[c]&&(a=!1)}a&&(i.splice(t--,1),e=r(r.s=s[0]))}return e}var a={},n={app:0},i=[];function r(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=a,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(s,a,function(t){return e[t]}.bind(null,a));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=c;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var a=s("85ec"),n=s.n(a);n.a},"03e9":function(e,t,s){"use strict";var a=s("7d93"),n=s.n(a);n.a},"0d3c":function(e,t,s){},"10f8":function(e,t,s){},"1e51":function(e,t,s){"use strict";var a=s("10f8"),n=s.n(a);n.a},"2f19":function(e,t,s){"use strict";var a=s("798b"),n=s.n(a);n.a},3118:function(e,t,s){"use strict";var a=s("68b2"),n=s.n(a);n.a},"56d7":function(e,t,s){"use strict";s.r(t);var a=s("2b0e"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("div",{ref:"headerRef"},[s("HelloWorld",{attrs:{darkmode:e.darkmode}}),s("videogameize",{attrs:{target:"https://github.com/valgaze/df-cheatcodes",animate:e.animate,darkmode:e.darkmode}})],1),s("section",{staticClass:"nes-container",class:{"is-dark":e.darkmode},staticStyle:{"border-width":"0"}},[s("section",{staticClass:"message-list",style:e.myStyles},[e._l(e.messages,(function(t,a){return s("section",{key:a,staticClass:"message",class:{"-left":"agent"===t.author,"-right":"me"===t.author}},[s("div",["agent"===t.author&&e.showcharacters&&"text"===t.type?s("i",{staticClass:"nes-octocat",class:{animate:e.animate,darkcat:e.darkmode}}):e._e()]),"text"===t.type?s("div",{staticClass:"nes-balloon",class:{"from-left":"agent"===t.author,"from-right":"me"===t.author,"is-dark":e.darkmode}},[s("p",[e._v(e._s(t.content))])]):s("responsewrap",{class:{"is-dark":e.darkmode},attrs:{msg:t,darkmode:e.darkmode,debug:e.debugMode},on:{handleTap:e.tapHandler}}),s("div",["me"===t.author&&e.showcharacters?s("i",{staticClass:"nes-bcrikko"}):e._e()])],1)})),e.thinking?s("thinkingcomponent",{attrs:{darkmode:e.darkmode,animate:e.animate}}):e._e(),e._e()],2)]),s("div",{ref:"footerRef",staticClass:"wrap"},[s("div",{staticClass:"suggestions"},[e.linkoutSuggestion&&e.linkoutSuggestion.url?s("button",{staticClass:"nes-text is-primary",attrs:{href:e.linkoutSuggestion.url,target:"_blank"},on:{click:function(t){return e._openLinkout(e.linkoutSuggestion.url)}}},[e._v(" "+e._s(e.linkoutSuggestion.destinationName)+" ")]):e._e(),e._l(e.suggestions,(function(t,a){return s("button",{key:a,on:{click:function(s){return e.suggest(t)}}},[e._v(" "+e._s(t)+" ")])}))],2),s("div",{staticClass:"nes-field is-inline",class:{"is-dark":e.darkmode}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.usermsg,expression:"usermsg"}],ref:"userinput",staticClass:"nes-input",attrs:{type:"text",id:"name_field",placeholder:"Enter your message"},domProps:{value:e.usermsg},on:{keyup:function(t){return t.type.indexOf("key")||13===t.keyCode?e.send(e.usermsg):null},input:function(t){t.target.composing||(e.usermsg=t.target.value)}}}),s("button",{staticClass:"nes-btn is-primary",attrs:{type:"button"},on:{click:function(t){return e.send(e.usermsg)}}},[e._v(" SEND ")]),s("button",{staticClass:"nes-btn is-primary",attrs:{type:"button"},on:{click:function(t){e.rowActive=!e.rowActive}}},[e._v(" "+e._s(e.rowActive?"] [":"[]")+" ")]),e.rowActive?s("button",{staticClass:"nes-btn is-warning",attrs:{type:"button"},on:{click:function(t){e.settingsActive=!0}}},[e._v(" Settings ")]):e._e(),e.rowActive?s("button",{staticClass:"nes-btn is-warning",attrs:{type:"button"},on:{click:function(t){e.requestActive=!0}}},[e._v(" Request ")]):e._e()])]),s("vodal",{attrs:{closeButton:!1,className:e.modalClass,closeOnEsc:!0,customStyles:e.modalStyle,show:e.settingsActive,animation:e.modalAnimation},on:{hide:function(t){e.settingsActive=!1}}},[s("div",{staticClass:"hacky__close",class:{"is-dark":e.darkmode},on:{click:function(t){e.settingsActive=!e.settingsActive}}},[s("i",{staticClass:"nes-icon close is-small"})]),s("div",{staticClass:"nes-dialog",class:{"is-dark":e.darkmode},attrs:{id:"dialog-default"}},[s("form",{staticClass:"settings nes-container with-title",class:{"is-dark":e.darkmode},attrs:{method:"dialog"}},[s("h3",{staticClass:"title"},[e._v("Settings")]),s("div",[e._v(" Dark mode "),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.darkmode,expression:"darkmode"}],staticClass:"nes-radio",class:{"is-dark":e.darkmode},attrs:{type:"radio",name:"answer"},domProps:{value:!0,checked:e._q(e.darkmode,!0)},on:{change:function(t){e.darkmode=!0}}}),s("span",[e._v("Yes")])]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.darkmode,expression:"darkmode"}],staticClass:"nes-radio",class:{"is-dark":e.darkmode},attrs:{type:"radio",name:"answer"},domProps:{value:!1,checked:e._q(e.darkmode,!1)},on:{change:function(t){e.darkmode=!1}}}),s("span",[e._v("No")])])]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.grpc,expression:"grpc"}],staticClass:"nes-checkbox",class:{"is-dark":e.darkmode},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.grpc)?e._i(e.grpc,null)>-1:e.grpc},on:{change:function(t){var s=e.grpc,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&(e.grpc=s.concat([i])):r>-1&&(e.grpc=s.slice(0,r).concat(s.slice(r+1)))}else e.grpc=n}}}),s("span",[e._v("Transform gRPC ("),s("span",{staticClass:"nes-text is-error"},[e._v("in chat")]),e._v(")")])]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.showcharacters,expression:"showcharacters"}],staticClass:"nes-checkbox",class:{"is-dark":e.darkmode},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.showcharacters)?e._i(e.showcharacters,null)>-1:e.showcharacters},on:{change:function(t){var s=e.showcharacters,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&(e.showcharacters=s.concat([i])):r>-1&&(e.showcharacters=s.slice(0,r).concat(s.slice(r+1)))}else e.showcharacters=n}}}),s("span",[e._v("Show Avatars in Chat ")])]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.animate,expression:"animate"}],staticClass:"nes-checkbox",class:{"is-dark":e.darkmode},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.animate)?e._i(e.animate,null)>-1:e.animate},on:{change:function(t){var s=e.animate,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&(e.animate=s.concat([i])):r>-1&&(e.animate=s.slice(0,r).concat(s.slice(r+1)))}else e.animate=n}}}),s("span",[e._v("Animate/Shimmer")])]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.scrollToBottom,expression:"scrollToBottom"}],staticClass:"nes-checkbox",class:{"is-dark":e.darkmode},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.scrollToBottom)?e._i(e.scrollToBottom,null)>-1:e.scrollToBottom},on:{change:function(t){var s=e.scrollToBottom,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&(e.scrollToBottom=s.concat([i])):r>-1&&(e.scrollToBottom=s.slice(0,r).concat(s.slice(r+1)))}else e.scrollToBottom=n}}}),s("span",[e._v("Scroll to bottom")])]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.debugMode,expression:"debugMode"}],staticClass:"nes-checkbox",class:{"is-dark":e.darkmode},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.debugMode)?e._i(e.debugMode,null)>-1:e.debugMode},on:{change:function(t){var s=e.debugMode,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&(e.debugMode=s.concat([i])):r>-1&&(e.debugMode=s.slice(0,r).concat(s.slice(r+1)))}else e.debugMode=n}}}),s("span",[e._v("Debug")])]),s("div",{staticClass:"nes-field is-inline"},[s("label",{attrs:{for:"inline_field"}},[e._v("Backend")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.backend,expression:"backend"}],staticClass:"nes-input",attrs:{type:"text",placeholder:"http://locahost:8000/chat"},domProps:{value:e.backend},on:{input:function(t){t.target.composing||(e.backend=t.target.value)}}})]),s("menu",{staticClass:"dialog-menu"},[s("button",{staticClass:"nes-btn is-primary",on:{click:e.saveSettings}},[e._v(" Save ")]),s("button",{staticClass:"nes-btn is-primary",on:{click:e.saveDefaults}},[e._v(" Reset Default ")])])])])]),s("vodal",{attrs:{closeButton:!1,className:e.modalClass,closeOnEsc:!0,customStyles:e.modalStyle,show:e.requestActive,animation:e.modalAnimation},on:{hide:function(t){e.requestActive=!1}}},[s("div",{staticClass:"hacky__close",class:{"is-dark":e.darkmode},on:{click:function(t){e.requestActive=!e.requestActive}}},[s("i",{staticClass:"nes-icon close is-small"})]),s("request",{attrs:{client:e.client,requestActive:e.requestActive,languageCodes:e.languageCodes,grpc:e.grpc,darkmode:e.darkmode,animate:e.animate,defaultSession:e.session},on:{boom:e.requestHandler}})],1)],1)},i=[],r=s("5d2d"),o=s("db49"),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hello"},[s("h3",{class:{"heading-darkmode":e.darkmode}},[e._v("Handy Links")]),e._m(0)])},l=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/valgaze/df-cheatcodes",target:"_blank",rel:"noopener"}},[e._v("df-cheatcodes (main)")])]),s("li",[s("a",{attrs:{href:"https://github.com/valgaze/df-cheatkit",target:"_blank",rel:"noopener"}},[e._v("df-cheatkit")])]),s("li",[s("a",{attrs:{href:"https://github.com/valgaze/df-cheatchat",target:"_blank",rel:"noopener"}},[e._v("df-cheatchat")])]),s("li",[s("a",{attrs:{href:"https://github.com/valgaze/dialogflow-speedrun",target:"_blank",rel:"noopener"}},[e._v('DialogFlow "Speedrun"')])]),s("li",[s("a",{attrs:{href:"https://github.com/valgaze/df-cheatkit/blob/master/docs/glossary.md",target:"_blank",rel:"noopener"}},[e._v("Glossary")])]),s("li",[s("a",{attrs:{href:"https://github.com/valgaze/df-cheatkit/blob/master/docs/resources.md",target:"_blank",rel:"noopener"}},[e._v("Learning Resources")])])])}],d={name:"HelloWorld",props:{msg:String,darkmode:Boolean}},u=d,m=(s("a641"),s("2877")),g=Object(m["a"])(u,c,l,!1,null,"0670d3aa",null),h=g.exports,p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"nes-container with-title",class:{"is-dark":e.darkmode}},[s("span",{staticClass:"title"},[e._v(e._s(e.data.title))]),s("div",{staticClass:"subtitle"},[e._v(e._s(e.data.subtitle))]),e.image_url?s("img",{staticClass:"card-image",attrs:{src:e.image_url,alt:e.image_alttext}}):e._e(),e.data.formattedText?s("div",{staticClass:"text",staticStyle:{"text-align":"left"},domProps:{innerHTML:e._s(e.markdownify(e.data.formattedText))}}):e.data.text?s("div",{staticClass:"text",staticStyle:{"text-align":"left"},domProps:{innerHTML:e._s(e.markdownify(e.data.text))}}):e._e(),e._t("default")],2)},f=[],v=s("339e"),b=s.n(v),_={name:"card",data(){return{showdownRef:new b.a.Converter}},methods:{markdownify(e=""){return this.showdownRef?this.showdownRef.makeHtml(e):e}},mounted(){},props:{data:Object,image_url:String,image_alttext:String,darkmode:Boolean}},k=_,y=(s("a690"),Object(m["a"])(k,p,f,!1,null,"032e9d1c",null)),w=y.exports,x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"message"},[s("div",{staticClass:"nes-balloon",class:{"is-dark":e.darkmode}},[s("p",[e._v(e._s(e.active))])])])},S=[],C={name:"thinking",beforeDestroy(){this.ref&&clearInterval(this.ref)},mounted(){this.animate?this.animateFunc():this.active=this.msg},data(){return{ref:null,active:"",pointer:0,max:null,config:{tick:1}}},methods:{stop(){clearInterval(this.ref)},animateFunc(){this.max||(this.max=this.msg.length),this.ref=setInterval(()=>{console.log("#",this.animate),this.pointer>=this.max&&(this.pointer=0),this.active=this.msg.substring(0,this.pointer+1),this.pointer=this.pointer+1},1e3*this.config.tick)}},watch:{animate:function(e){e?this.animateFunc():(this.stop(),this.active=this.msg)}},props:{msg:{type:String,default:()=>"..."},darkmode:{type:Boolean,default:()=>!1},animate:{type:Boolean,default:()=>!0}}},q=C,A=Object(m["a"])(q,x,S,!1,null,"3b34b824",null),O=A.exports,R=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"nes-balloon",class:{darkmode:e.darkmode,shimmer:e.animate},on:{click:e.go}},[s("p",[e._v(e._s(e.msg))])])},T=[],N={name:"videogamize",mounted(){},data(){return{ref:null,active:"",pointer:0,max:null,config:{tick:1}}},methods:{go(){this.target&&"#"!==this.target&&window.open(this.target,"_blank")},stop(){clearInterval(this.ref)},animateFunc(){this.max||(this.max=this.msg.length),this.ref=setInterval(()=>{console.log("#",this.animate),this.pointer>=this.max&&(this.pointer=0),this.active=this.msg.substring(0,this.pointer+1),this.pointer=this.pointer+1},1e3*this.config.tick)}},watch:{animate:function(e){e?this.animateFunc():(this.stop(),this.active=this.msg)}},props:{target:{type:String,default:()=>"#"},msg:{type:String,default:()=>"DF-CHEATCODES"},darkmode:{type:Boolean,default:()=>!1},animate:{type:Boolean,default:()=>!0}}},P=N,E=(s("706e"),Object(m["a"])(P,R,T,!1,null,"47ff0f2c",null)),B=E.exports,D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("div",{staticClass:"nes-dialog",class:{"is-dark":e.darkmode},attrs:{id:"dialog-settings"}},[s("form",{staticClass:"settings",attrs:{method:"dialog",name:"builder"}},[s("p",{staticClass:"title"},[e._v("Request Builder")]),s("div",[e._v(" Type "),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.isEvent,expression:"isEvent"}],staticClass:"nes-radio",class:{"is-dark":e.darkmode},attrs:{type:"radio",name:"answer",value:"yes"},domProps:{checked:e._q(e.isEvent,"yes")},on:{change:function(t){e.isEvent="yes"}}}),s("span",[e._v("Event")])]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.isEvent,expression:"isEvent"}],staticClass:"nes-radio",class:{"is-dark":e.darkmode},attrs:{type:"radio",value:"no",name:"answer"},domProps:{checked:e._q(e.isEvent,"no")},on:{change:function(t){e.isEvent="no"}}}),s("span",[e._v("Text")])])]),s("label",{directives:[{name:"show",rawName:"v-show",value:e.codeActive,expression:"codeActive"}]},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.transformgrpc,expression:"transformgrpc"}],staticClass:"nes-checkbox",class:{"is-dark":e.darkmode},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.transformgrpc)?e._i(e.transformgrpc,null)>-1:e.transformgrpc},on:{change:function(t){var s=e.transformgrpc,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&(e.transformgrpc=s.concat([i])):r>-1&&(e.transformgrpc=s.slice(0,r).concat(s.slice(r+1)))}else e.transformgrpc=n}}}),e._m(0),e._v(") ")]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.enforceStrictJSON,expression:"enforceStrictJSON"}],staticClass:"nes-checkbox",class:{"is-dark":e.darkmode},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.enforceStrictJSON)?e._i(e.enforceStrictJSON,null)>-1:e.enforceStrictJSON},on:{change:function(t){var s=e.enforceStrictJSON,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);a.checked?r<0&&(e.enforceStrictJSON=s.concat([i])):r>-1&&(e.enforceStrictJSON=s.slice(0,r).concat(s.slice(r+1)))}else e.enforceStrictJSON=n}}}),s("span",[e._v("Enforce Valid JSON (keys need quotes)")])]),s("div",{staticClass:"nes-container with-title",class:{"is-dark":e.darkmode}},[s("h3",{staticClass:"title"},[e._v(e._s(e.eventActive?"Event":"Text"))]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.codeActive,expression:"codeActive"}],staticClass:"code"},[s("label",{attrs:{for:"textarea_field"}},[e._v("Request (JSON) "+e._s(e.transformgrpc?"[JSON transformed to Protostruct]":"")+" ")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.requestBlock,expression:"requestBlock"}],ref:"json_field",staticClass:"json nes-textarea",domProps:{value:e.requestBlock},on:{input:function(t){t.target.composing||(e.requestBlock=t.target.value)}}})]),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.codeActive,expression:"!codeActive"}],staticClass:"content-wrap"},[e.eventActive?s("div",{staticClass:"nes-field is-inline"},[s("label",{attrs:{for:"inline_field"}},[e._v("Event name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.eventName,expression:"eventName"}],staticClass:"nes-input",attrs:{type:"text",placeholder:"Welcome"},domProps:{value:e.eventName},on:{input:function(t){t.target.composing||(e.eventName=t.target.value)}}})]):e._e(),e.eventActive?e._e():s("div",{staticClass:"nes-field is-inline"},[s("label",{attrs:{for:"inline_field"}},[e._v("Message")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.textMessage,expression:"textMessage"}],staticClass:"nes-input",attrs:{type:"text",placeholder:"hi bot"},domProps:{value:e.textMessage},on:{input:function(t){t.target.composing||(e.textMessage=t.target.value)}}})]),e.eventActive?s("div",{staticClass:"nes-field is-inline separator"},[s("label",{attrs:{for:"inline_field"}},[e._v("Event Parameters (JSON)")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.eventParameters,expression:"eventParameters"}],ref:"eventParametersRef",staticClass:"nes-textarea",attrs:{placeholder:'{a:1,b:"hi",c:[3,4,5]}'},domProps:{value:e.eventParameters},on:{input:function(t){t.target.composing||(e.eventParameters=t.target.value)}}})]):e._e(),s("div",{staticClass:"nes-field is-inline"},[e._m(1),s("div",{staticClass:"nes-select"},[e._v(" "+e._s(e.activeLanguage)+" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.activeLanguage,expression:"activeLanguage"}],attrs:{required:"",id:"default_select"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.activeLanguage=t.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"",disabled:"",selected:"",hidden:""}},[e._v("Select...")]),e._l(e.languageCodes,(function(t,a){return s("option",{key:a,domProps:{value:t}},[e._v(e._s(t))])}))],2)])]),s("div",{staticClass:"nes-field is-inline separator"},[s("label",{attrs:{for:"inline_field"}},[e._v("Request Data (JSON)")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.requestData,expression:"requestData"}],ref:"requestDataRef",staticClass:"nes-textarea",attrs:{placeholder:'{a:1,b:"hi",c:[3,4,5]}'},domProps:{value:e.requestData},on:{input:function(t){t.target.composing||(e.requestData=t.target.value)}}})]),s("div",{staticClass:"nes-field is-inline separator"},[s("label",{attrs:{for:"inline_field"},on:{click:e.genSession}},[e._v("Session")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.session,expression:"session"}],staticClass:"nes-input",attrs:{type:"text",placeholder:"123456789"},domProps:{value:e.session},on:{input:function(t){t.target.composing||(e.session=t.target.value)}}})])]),s("menu",{staticClass:"dialog-menu"},[e.codeActive?e._e():s("button",{staticClass:"nes-btn is-primary",on:{click:e.copy}},[e._v(" Copy ")]),e.codeActive?s("button",{staticClass:"nes-btn is-warning",on:{click:function(t){e.codeActive=!1}}},[e._v(" Back ")]):e._e(),s("button",{staticClass:"nes-btn is-primary",on:{click:e.send}},[e._v(" Send ")])])])])])])},j=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[e._v("Transform JSON ("),s("span",{staticClass:"nes-text is-error"},[e._v("in snippet below")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{attrs:{for:"inline_field"}},[s("a",{attrs:{href:"https://cloud.google.com/dialogflow/docs/reference/language",target:"_blank"}},[e._v("Language Code")])])}];const J='{\n\t"session": "1234567890987",\n\t"queryInput": {\n\t\t"text": {\n\t\t\t"text": "yes",\n\t\t\t"languageCode": "en-us"\n\t\t}\n\t},\n\t"queryParams": {\n\t\t"payload": {}\n\t}\n}';var M={name:"request",mounted(){},computed:{},watch:{codeActive(){},eventParameters(e){this.enforceStrictJSON&&this.verifyJSON(e,this.$refs.eventParametersRef)},requestData(e){this.enforceStrictJSON&&this.verifyJSON(e,this.$refs.requestDataRef)},grpc(e){this.transformgrpc=Boolean(e)},transformgrpc(e,t){e!==t&&(this.requestBlock=JSON.stringify(this.buildReq(),void 0,4))},defaultSession(e){e&&(this.session=e)},isEvent(e){"no"===e?(this.eventActive=!1,this.textActive=!0):this.eventActive=!0},selectedCode:{immediate:!0,handler:function(e){this.activeLanguage=e}}},data(){return{enforceStrictJSON:!0,textActive:!1,eventName:"",eventParameters:JSON.stringify({a:1,b:2}),requestData:JSON.stringify({a:1,b:2}),textMessage:"",activeLanguage:this.selectedCode,eventActive:!1,isEvent:"no",transformgrpc:this.grpc,codeActive:!1,requestBlock:J,session:this.defaultSession}},methods:{send(){const e=this.buildReq();this.$emit("boom",{request:e})},verifyJSON(e,t){let s="",a="";try{a=JSON.parse(e)}catch(o){s=JSON.stringify(o.message);var n=t;if(s.indexOf("position")>-1){var i=s.lastIndexOf("position")+8,r=parseInt(s.substr(i,s.lastIndexOf('"')));r>=0&&n.setSelectionRange(r,r+1)}return""}return JSON.stringify(a,null,2)},_json2proto(e){return e},genSession(){this.session=String(Math.random()).slice(2)},_buildEvent(){const e={kind:"event",content:{name:this.eventName,parameters:this.eventParameters?JSON.parse(this.eventParameters):{},languageCode:this.activeLanguage},requestData:this.requestData?JSON.parse(this.requestData):{},flags:{transformgrpc:this.transformgrpc}};return e},_buildTxt(){const e={kind:"text",content:this.textMessage,requestData:this.requestData?JSON.parse(this.requestData):{},flags:{transformgrpc:this.transformgrpc}};return e},buildReq(){let e={};return e=this.eventActive?this.client.buildRequest(this._buildEvent()):this.client.buildRequest(this._buildTxt()),e},copy(){const e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);e?(alert("There's some bug affecting only safari when switching elements in a modal. Just select all on the next prompt"),prompt("Select all to copy/paste request data",JSON.stringify(this.buildReq(),void 0,4))):(this.codeActive=!0,this.requestBlock=JSON.stringify(this.buildReq(),void 0,4))}},props:{client:{},selectedCode:{type:String,default:()=>"en-US"},defaultSession:{type:String},msg:{type:String,default:()=>"DF-CHEATCODES"},darkmode:{type:Boolean,default:()=>!1},animate:{type:Boolean,default:()=>!0},grpc:{type:Boolean,default:()=>!0},languageCodes:{type:Array,default:()=>["zh-HK","zh-CN","zh-TW","da","nl","en","en-AU","en-CA","en-GB","en-IN","en-US","fr","fr-CA","fr-FR","de","hi","id","it","ja","ko","no","pl","pt-BR","pt","ru","es","es-419","es-ES","sv","th","tr","uk"]}}},H=M,L=(s("3118"),Object(m["a"])(H,D,j,!1,null,"2197ac1a",null)),I=L.exports,$=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{darkmode:e.darkmode},style:{width:"100%"}},["basicCard"===e.msg.type?s("card",{attrs:{data:e.msg.content,darkmode:e.darkmode,debug:e.debug,image_url:e.msg.content.image&&e.msg.content.image.url||void 0,image_alttext:e.msg.content.image&&e.msg.content.image.accessibilityText||void 0}},e._l(e.msg.content.buttons,(function(e,t){return s("cardbutton",{key:t+"_button_",attrs:{url:e.openUrlAction&&e.openUrlAction.url,title:e.title}})})),1):e._e(),"tableCard"===e.msg.type?s("table-card",{attrs:{data:e.msg.content,darkmode:e.darkmode,debug:e.debug}}):e._e(),"carouselBrowse"===e.msg.type?s("carousel",{attrs:{data:e.msg.content}},e._l(e.msg.content.items,(function(t,a){return s("carouselcard",{key:a,attrs:{data:{footer:t.footer,subtitle:t.description,title:t.title},image_url:t.image&&t.image.url||void 0,image_alttext:t.image&&t.image.accessibilityText||void 0,darkmode:e.darkmode,debug:e.debug},on:{componentTap:e.handler}})})),1):e._e(),"carouselSelect"===e.msg.type?s("carousel",{attrs:{data:e.msg.content}},e._l(e.msg.content.items,(function(t,a){return s("carouselcard",{key:a,attrs:{data:{subtitle:t.description,title:t.title},image_url:t.image&&t.image.url||void 0,image_alttext:t.image&&t.image.accessibilityText||void 0,darkmode:e.darkmode,debug:e.debug},on:{componentTap:e.handler}})})),1):e._e(),"listSelect"===e.msg.type?s("carousel",{attrs:{data:e.msg.content}},e._l(e.msg.content.items,(function(t,a){return s("carouselcard",{key:a,attrs:{data:{subtitle:t.description,title:t.title},image_url:t.image&&t.image.url||void 0,image_alttext:t.image&&t.image.accessibilityText||void 0,darkmode:e.darkmode,debug:e.debug},on:{componentTap:e.handler}})})),1):e._e(),"youtube"===e.msg.type?s("div",{staticClass:"nes-container",class:{"is-dark":e.darkmode}},[s("youtube",{attrs:{darkmode:e.darkmode,data:e.msg.content,debug:e.debug}})],1):e._e(),"mediaResponse"===e.msg.type?s("div",e._l(e.msg.content.mediaObjects,(function(t,a){return s("mediaResponse",{key:a,attrs:{darkmode:e.darkmode,debug:e.debug,data:t,image_url:t.icon&&t.icon.url||void 0,image_alttext:t.icon&&t.icon.accessibilityText||void 0}})})),1):e._e(),e.debug?s("div",{staticClass:"debug-wrap"},[s("button",{staticClass:"nes-btn is-primary showcode",attrs:{type:"button"},on:{click:function(t){e.showDebug=!e.showDebug}}},[e._v(" "+e._s(e.showDebug?"] [":"[]")+" ")]),e._v(" ("),s("span",{staticClass:"nes-text is-error"},[e._v(e._s(e.showDebug?"hide":"show")+" debug")]),e._v(") "),e.showDebug?s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.stringifiedPayload,expression:"stringifiedPayload"}],staticClass:"nes-textarea",attrs:{id:"debug_payload"},domProps:{value:e.stringifiedPayload},on:{input:function(t){t.target.composing||(e.stringifiedPayload=t.target.value)}}}):e._e()]):e._e()],1)},U=[],z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{staticClass:"nes-btn is-primary",attrs:{href:e.url,type:"button",target:"_blank"}},[e._v(" "+e._s(e.title)+" ")])},F=[],G={data(){return{data:null}},methods:{go(e){e&&alert(e)}},mounted(){},name:"cardbutton",props:{url:String,title:String,buttonStyle:Object}},W=G,K=(s("fcac"),Object(m["a"])(W,z,F,!1,null,"4d45e1ea",null)),V=K.exports,Y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"nes-container with-title carousel-wrap",class:{"is-dark":e.darkmode}},[e._t("default")],2)},Q=[],X={name:"carouselSelect",data(){return{}},methods:{},mounted(){},props:{data:Object,image_url:String,image_alttext:String,darkmode:Boolean}},Z=X,ee=(s("03e9"),Object(m["a"])(Z,Y,Q,!1,null,"2cb4fb0c",null)),te=ee.exports,se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"nes-container with-title wrap",class:{"is-dark":e.darkmode},on:{click:e.componentTap}},[s("span",{staticClass:"title"},[e._v(e._s(e.data.title))]),s("div",{staticClass:"subtitle"},[e._v(e._s(e.data.subtitle))]),e.image_url?s("img",{staticClass:"card-image",attrs:{src:e.image_url,alt:e.image_alttext}}):e._e(),e.data.formattedText?s("div",{staticClass:"text",domProps:{innerHTML:e._s(e.markdownify(e.data.formattedText))}}):e.data.text?s("div",{staticClass:"text",domProps:{innerHTML:e._s(e.markdownify(e.data.text))}}):e._e(),e._t("default"),s("div",{staticClass:"footer"},[e._v(e._s(e.data.footer))])],2)},ae=[],ne={name:"card",mounted(){},data(){return{showdownRef:new b.a.Converter}},methods:{componentTap(){this.$emit("componentTap",{origin:"component",data:this.data.title})}},props:{data:Object,image_url:String,image_alttext:String,darkmode:Boolean}},ie=ne,re=(s("c465"),Object(m["a"])(ie,se,ae,!1,null,"7fb46471",null)),oe=re.exports,ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"nes-container with-title",class:{"is-dark":e.darkmode}},[s("span",{staticClass:"title"},[e._v(e._s(e.data.name))]),e.image_url?s("img",{staticClass:"card-image",attrs:{src:e.image_url,alt:e.image_alttext}}):e._e(),s("p",[e._v(e._s(e.data.description))]),s("audio",{attrs:{src:e.data.contentUrl,controls:""}})])},le=[],de={name:"card",data(){return{showdownRef:new b.a.Converter}},methods:{markdownify(e=""){return this.showdownRef?this.showdownRef.makeHtml(e):e}},mounted(){},props:{data:Object,image_url:String,image_alttext:String,darkmode:Boolean}},ue=de,me=(s("2f19"),Object(m["a"])(ue,ce,le,!1,null,"3f560718",null)),ge=me.exports,he=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"nes-container with-title",class:{"is-dark":e.darkmode}},[s("table",{staticClass:"nes-table is-bordered",class:{"is-dark":e.darkmode}},[s("thead",[s("tr",e._l(e.data.columnProperties,(function(t,a){return s("th",{key:a},[e._v(" "+e._s(t.header)+" ")])})),0)]),s("tbody",e._l(e.data.rows,(function(t,a){return s("tr",{key:a},e._l(t.cells,(function(t,a){return s("td",{key:a,domProps:{innerHTML:e._s(e.markdownify(t.text))}})})),0)})),0)])])},pe=[],fe={name:"tablecard",data(){return{showdownRef:new b.a.Converter}},methods:{markdownify(e=""){return this.showdownRef?this.showdownRef.makeHtml(e):e}},mounted(){},props:{data:Object,image_url:String,image_alttext:String,darkmode:Boolean}},ve=fe,be=(s("1e51"),Object(m["a"])(ve,he,pe,!1,null,"c54cf0ca",null)),_e=be.exports,ke=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"nes-container with-title wrap",class:{"is-dark":e.darkmode}},[s("h3",{staticClass:"title",domProps:{innerHTML:e._s(e.data.text)}}),e.embedURL?s("iframe",{staticClass:"youtube-embed",attrs:{width:"100%",height:"100%",src:e.embedURL,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}):e._e()])},ye=[],we={data(){return{embedURL:null}},methods:{timestampParser(e=""){const t=String(e).toLowerCase();let s=e;if(t.includes("m")||t.includes("s")){let[e,a]=t.split("m");s=60*Number(e),a=a.split("s")[0],s+=Number(a)}return s},setEmbed(e){let t=e;e.includes("watch?v=")&&(t=e.split("?v=")[1]),e.includes("youtu.be")&&(t=e.split("/")[3]),this.embedURL="https://www.youtube.com/embed/"+t;const s=[];this.data.autoplay&&s.push("autoplay=1"),this.data.start&&s.push("start="+this.timestampParser(this.data.start)),this.data.end&&s.push("end="+this.timestampParser(this.data.end)),s.length&&(s.push("cc_load_policy=1"),this.embedURL=`${this.embedURL}?${s.join("&")}`)}},mounted(){this.setEmbed(this.data.url)},name:"videowrap",props:["data","darkmode"]},xe=we,Se=(s("f5bf"),Object(m["a"])(xe,ke,ye,!1,null,"41107705",null)),Ce=Se.exports,qe={components:{card:w,cardbutton:V,carousel:te,carouselcard:oe,mediaResponse:ge,tableCard:_e,youtube:Ce},name:"responsewrap",mounted(){this.stringifiedPayload=JSON.stringify(this.msg)},data(){return{stringifiedPayload:null,showDebug:!1}},methods:{handler(e){this.$emit("handleTap",e)}},watch:{},props:{debug:{type:Boolean,default:()=>!1},msg:{type:Object,default:()=>{}},darkmode:{type:Boolean,default:()=>!1},animate:{type:Boolean,default:()=>!0}}},Ae=qe,Oe=(s("6090"),Object(m["a"])(Ae,$,U,!1,null,"07cfdf8c",null)),Re=Oe.exports;const Te=r["RequestCheat"].buildSessionId(),Ne="en_US",Pe=!0,Ee={session:Te,languageCode:Ne,transformgrpc:Pe,backend:o["backend"],debug:!0},Be=new r["RequestCheat"](Ee);var De={name:"App",components:{HelloWorld:h,card:w,Thinkingcomponent:O,videogameize:B,request:I,responsewrap:Re},destroyed(){window.removeEventListener("resize",this.setHeights)},mounted(){if(this.loadSettings&&this.loadSettingsFromStorage&&this.loadSettings(),this.setHeights(),window.addEventListener("resize",this.setHeights),this.$refs.userinput.focus(),this.grabFlags(),console.log(this.greeting),this.session=this.client.buildSession(),this.triggerMessage)this.send(this.triggerMessage);else{const e=!0;if(e){const e=this.buildEvent("Welcome",{a:1,b:2,c:3});this.client.send(e)}}},data(){return{transformgrpc:!0,rootHeight:0,headerHeight:0,footerHeight:0,greeting:"Love chatting about chatbots & intelligent agents-- valgaze.com",rowActive:!1,modalStyle:{height:"100%",width:"100%"},codeActive:!1,settingsActive:!1,requestActive:!1,usermsg:"",client:Be,session:"",languageCodes:o["languageCodes"],loadSettingsFromStorage:!0,storageKey:"__STORAGE",thinking:!1,grpc:!0,darkmode:!1,animate:!0,showcharacters:!0,backend:o["backend"],debugMode:!1,scrollToBottom:!0,triggerMessage:"",suggestions:["#cheat help","help","health","i want ice cream","kitchen sink"],linkoutSuggestion:{},messages:[{author:"agent",content:"Hello",type:"text"},{author:"me",content:"hi there",type:"text"}]}},watch:{backend(){this.client.updateBackend(this.backend)},grpc(){this.client.updateTransformgrpc(this.grpc)},darkmode(e){const t=document.querySelector("body");e?t.classList.add("darkmode"):t.classList.remove("darkmode")}},computed:{chatHeight(){return this.footerHeight},myStyles(){return{paddingBottom:this.chatHeight+"px"}},modalAnimation(){return this.animate?"door":"na"},modalClass(){return this.darkmode?"darkmode":"lightmode"}},methods:{_openLinkout(e){e&&(window.open(e,"_blank"),this.linkoutSuggestion={})},tapHandler(e){const{origin:t,data:s}=e;console.log(`No op-- decide on handler strategy, emit event or send to chat ${t} ${s}`),"string"===typeof s&&this.send(s)},buildEvent(e,t){const s={name:e,parameters:t},a={kind:"event",content:s};return this.client.buildRequest(a)},grabFlags(){const e=new URLSearchParams(window.location.search),t=e.get("backend");t&&(this.backend=t);const s=e.get("triggermessage");s&&"string"===typeof s&&(this.triggerMessage=s)},__debug(...e){this.debugMode&&console.log.apply(console,e)},addText(e,t="agent"){this.messages.push({timestamp:new Date,type:"text",author:t,content:e})},addComponent(e,t){if("suggestions"===e)return this.updateSuggestions(t.map(e=>e.title));this.messages.push({timestamp:new Date,type:e,author:"agent",content:t})},updateSuggestions(e){this.suggestions=[...e]},setHeights(){this.footerHeight=this.$refs.footerRef.clientHeight,this.headerHeight=this.$refs.headerRef.clientHeight,this.rootHeight=document.querySelector("#app").clientHeight},requestHandler(e){const{request:t}=e;t&&this.send(t)},_localSave(e,t){localStorage.setItem(e,JSON.stringify(t))},_localGet(e){e||(e=this.storageKey);const t=localStorage.getItem(e);return t?JSON.parse(t):t},saveDefaults(){const e={darkmode:!1,animate:!0,grpc:!0,showcharacters:!0,backend:this.backend,debugMode:!1};this._localSave(this.storageKey,e),this.loadSettings()},saveSettings(){const e={darkmode:this.darkmode,animate:this.animate,grpc:this.grpc,backend:this.backend,debugMode:this.debugMode,scrollToBottom:this.scrollToBottom,showcharacters:this.showcharacters};return this.settingsActive=!1,this._localSave(this.storageKey,e)},getSettings(){return this._localGet()},loadSettings(){const e=this.getSettings();if(e)for(let t in e){const s=e[t];this[t]=s}},suggest(e){e&&"string"===typeof e&&this.send(e)},_scrollDown(){this.$nextTick(()=>{const e=document.querySelector("#app"),t=e.offsetTop+2*e.clientHeight;this.animate?setTimeout(()=>{window.scrollTo({top:t,behavior:"smooth"})},600):window.scrollTo({top:t})})},async send(e){"string"===typeof e&&""!==e&&" "!==e&&(this.thinking=!0,this.usermsg="",this.addText(e,"me"),this.thinking=!0,this.scrollToBottom&&this._scrollDown()),this.thinking=!0;let t={data:{}};try{t=await this.client.send(e)}catch(o){return this.addText(this.debugMode?o:"Whoops there was an issue, try that again?"),this.scrollToBottom&&this._scrollDown(),void(this.thinking=!1)}this.__debug("\n\n### [RAW RESULT]:",JSON.stringify(t.data),"###\n\n");const s=this.client.simplifyResponse(t.data);this.__debug("<send: tidyResult>",s);const a=this.client.generateComponents(s);this.__debug("<send: componentRoster>",a);const{suggestions:n,linkOutSuggestion:i}=a;n.length&&this.updateSuggestions(n.map(e=>e.title)),i.url&&(this.linkoutSuggestion=i);const r=e=>Boolean(e.simpleResponse);a.components.forEach((e,t)=>{console.log(`${t}] ${JSON.stringify(e)}`);try{const[t,s]=Object.entries(e)[0];if(r(e)){let t=this.client._get(e,"simpleResponse.displayText",this.client._get(e,"simpleResponse.textToSpeech",null));t&&this.addText(t)}else this.addComponent(t,s)}catch(o){console.log("Catastrophic error extracting type for this payload",o,JSON.stringify(e))}}),this.thinking=!1,this.scrollToBottom&&this._scrollDown()}}},je=De,Je=(s("034f"),Object(m["a"])(je,n,i,!1,null,null,null)),Me=Je.exports,He=s("f827"),Le=s.n(He);s("4f8c"),s("97ed"),s("30fe"),s("cdad");a["a"].component(Le.a.name,Le.a),a["a"].config.productionTip=!1,new a["a"]({render:e=>e(Me)}).$mount("#app")},"5d2d":function(e,t,s){"use strict";var a=this&&this.__awaiter||function(e,t,s,a){function n(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,i){function r(e){try{c(a.next(e))}catch(t){i(t)}}function o(e){try{c(a["throw"](e))}catch(t){i(t)}}function c(e){e.done?s(e.value):n(e.value).then(r,o)}c((a=a.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var s,a,n,i,r={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(e){return function(t){return c([e,t])}}function c(i){if(s)throw new TypeError("Generator is already executing.");while(r)try{if(s=1,a&&(n=2&i[0]?a["return"]:i[0]?a["throw"]||((n=a["return"])&&n.call(a),0):a.next)&&!(n=n.call(a,i[1])).done)return n;switch(a=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,a=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(n=r.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){r.label=i[1];break}if(6===i[0]&&r.label<n[1]){r.label=n[1],n=i;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(i);break}n[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(o){i=[6,o],a=0}finally{s=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.RequestCheat=void 0;var i=s("1edc"),r=s("536d"),o=s("ec9c"),c={get:r,has:o},l=s("af34"),d='{\n\t"session": "1234567890987",\n\t"queryInput": {\n\t\t"text": {\n\t\t\t"text": "yes",\n\t\t\t"languageCode": "en-us"\n\t\t}\n\t},\n\t"queryParams": {\n\t\t"payload": {}\n\t}\n}',u=function(){function e(t){this.config=t;var s={transformgrpc:!1,languageCode:"en_US",debug:!1,otherplatforms:[]};this.axiosInst=l.default.create({baseURL:this.config.backend}),this.languageCode=this.config.languageCode?this.config.languageCode:s.languageCode,this.session=this.config.session?this.config.session:e.buildSessionId(),this._session=this.session,this.transformgrpc=this.config.transformgrpc?this.config.transformgrpc:s.transformgrpc,this.debug=!0===this.config.debug||s.debug,this.otherplatforms=this.config.otherplatforms&&this.config.otherplatforms.length?this.config.otherplatforms:s.otherplatforms,this.__debug("RequestCheat initialized with config: "+JSON.stringify(this.config))}return e.prototype.__debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.debug&&console.log.apply(console,e)},e.prototype.getConfig=function(){return this.config},e.prototype.updateLanguageCode=function(e){e&&(this.config.languageCode=e,this.languageCode=e,this.__debug("RequestCheat languageCode set to: "+this.config.backend))},e.prototype.updateBackend=function(e){e&&(this.config.backend=e,this.axiosInst=l.default.create({baseURL:this.config.backend}),this.__debug("RequestCheat backend set to: "+this.config.backend))},e.prototype.updateTransformgrpc=function(e){this.config.transformgrpc=e,this.transformgrpc=e,this.__debug("RequestCheat transformgrpc set to: "+this.config.transformgrpc)},e.prototype.updateSession=function(e){this.config.session=e,this.session=e,this._session=this.session,this.__debug("RequestCheat session set to: "+this.config.session)},e.prototype._safeParse=function(e,t){void 0===t&&(t={});var s=e,a=this.transformgrpc;return void 0!==t.transformgrpc&&(a=t.transformgrpc),a&&(s=this._json2proto(e),this.__debug("Transformed JSON <> Proto",e,s)),s},e.prototype.text=function(e,t){var s={kind:"text",content:e,requestData:t};return this.buildRequest(s)},e.prototype.sendText=function(e,t,s){var a={kind:"text",content:e,requestData:t,flags:s},n=this.buildRequest(a);return this.send(n)},e.prototype.event=function(e,t,s){void 0===t&&(t={});var a={kind:"event",content:{name:e,parameters:t},requestData:s};return this.buildRequest(a)},e.prototype.sendEvent=function(e,t,s,a){void 0===t&&(t={});var n={kind:"event",content:{name:e,parameters:t},requestData:s,flags:a},i=this.buildRequest(n);return this.send(i)},e.prototype.buildRequest=function(e){if("string"===typeof e){var t={kind:"text",content:e,flags:{transformgrpc:this.transformgrpc}};e=t}if(!e.kind)throw new Error("<buildRequest> Missing essential parameter 'kind'");var s=JSON.parse(d);if(e.flags&&e.flags.session?(s.session=e.flags.session,this.session=e.flags.session):s.session=this.session?this.session:this.buildSession(),console.log("BEER",s.session),"event"===e.kind){var a=e.content,n=a.name,i=a.parameters,r=void 0===i?{}:i,o=a.languageCode,c=void 0===o?this.languageCode:o;delete s.queryInput.text,s.queryInput.event={},s.queryInput.event.name=n,s.queryInput.event.parameters=this._safeParse(r,e.flags),s.queryInput.event.languageCode=c}else"text"===e.kind&&(s.queryInput.text.text=e.content,s.queryInput.text.languageCode=this.languageCode);return e.requestData&&Object.keys(e.requestData).length?s.queryParams.payload=this._safeParse(e.requestData,e.flags):delete s.queryParams,s},e.buildSessionId=function(){return(new Date).getTime()+"-"+String(Math.random()).slice(2)},e.buildSession=function(e,t){return"projects/"+t+"/agent/sessions/"+e},e.__proto2json=function(e){return i.struct.decode(e)},e.__json2proto=function(e){return i.struct.encode(e)},e.prototype.buildSession=function(){return e.buildSessionId()},e.prototype._proto2json=function(e){return i.struct.decode(e)},e.prototype._json2proto=function(e){return i.struct.encode(e)},e.prototype._has=function(e,t){return c.has(e,t)},e.prototype._get=function(e,t,s){return void 0===s&&(s=null),c.get(e,t,s)},e.prototype.generateComponents=function(e){var t=[],s=function(e){return{simpleResponse:{displayText:e}}},a=[],n=[],i=c.get(e,"fulfillmentText",null);i=i&&" "===i?null:i,i&&a.push(s(i));var r=c.get(e,"webhookPayload.google",{});n=c.get(r,"richResponse.suggestions",[]);var o=c.get(r,"richResponse.linkOutSuggestion",{}),l=null,d=c.get(r,"systemIntent.data.listSelect",null);if(d)l={listSelect:d};else{var u=c.get(r,"systemIntent.data.carouselSelect");u&&(l={carouselSelect:u})}var m=c.get(r,"richResponse.items",[]);m=m.filter((function(e,t){if(c.has(e,"simpleResponse")){var s=c.get(e,"simpleResponse.textToSpeech",null);return s||(s=c.get(e,"simpleResponse.displayText",null)),!(!s||" "==s||s===i)}return!0})),a.push.apply(a,m);var g=c.get(e,"fulfillmentMessages",[]),h=[],p=["ACTIONS_ON_GOOGLE","PLATFORM_UNSPECIFIED"];this.otherplatforms&&this.otherplatforms.length&&(p=p.concat(this.otherplatforms));var f=function(e){return!(!e||" "===e)&&(!i||e!==i)};g=g.filter((function(e){var s=e.message,a=e.platform;if("payload"===s)return h.push(e),!1;if(!p.includes(a))return!1;if("text"===s){var i=c.get(e,"text.text",[])[0];return!!f(i)}if("suggestions"===s){var r=e.suggestions.suggestions;return n=n.concat.apply(n,r),!1}if("simpleResponses"===s){var o=c.get(e,"simpleResponses.simpleResponses",[]),d=o[0],u=d.displayText,m=d.textToSpeech,g=d.ssml,v=!1;return f(u)?v=!0:f(m)&&(d.displayText=m,v=!0),f(g)&&t.push(g),v}return"carouselSelect"===s||"listSelect"===s?(l=e,!1):void 0})),g.forEach((function(e,t,a){var n=e.message;if("simpleResponses"===n){var i=c.get(e,"simpleResponses.simpleResponses",[])[0],r=c.get(i,"textToSpeech",c.get(e,"displayText",null));g[t]=s(r)}if("text"===n){var o=c.get(e,"text.text",[])[0];g[t]=s(o)}})),a.push.apply(a,g),l&&a.push(l);var v={components:a,suggestions:n,linkOutSuggestion:o};return v},e.prototype.simplifyResponse=function(e){var t=e;e.length>0&&(t=e[0]),e.queryResult&&(t=e.queryResult);var s=t.queryText,a=t.webhookPayload,n=t.fulfillmentMessages,i=t.fulfillmentText,r=void 0===i?null:i,o=a;o&&this.transformgrpc&&(o=this._proto2json(o),this.__debug("Transformed webhookPayload: "+JSON.stringify(o)));var c={queryText:s,fulfillmentText:r,webhookPayload:o,fulfillmentMessages:n};return c},e.prototype.send=function(e){return a(this,void 0,void 0,(function(){var t,s,a,i=this;return n(this,(function(n){switch(n.label){case 0:return t=e,"string"===typeof e&&(t=this.buildRequest({kind:"text",content:e})),s={method:"POST",data:t},this.__debug("<Sending...>",s),[4,this.axiosInst(s).catch((function(e){throw console.log("<RequestCheat.send>Catastrophic Error: "+e,e),new Error("<From df-cheatcodes-base: RequestCheat.send> There may be an issue with your backend address: "+i.config.backend)}))];case 1:return a=n.sent(),this.session!==this._session&&(this.session=this._session),[2,a||{}]}}))}))},e}();t.RequestCheat=u},6090:function(e,t,s){"use strict";var a=s("e17a"),n=s.n(a);n.a},6291:function(e,t,s){},"68b2":function(e,t,s){},"706e":function(e,t,s){"use strict";var a=s("6291"),n=s.n(a);n.a},"798b":function(e,t,s){},"7d93":function(e,t,s){},"85ec":function(e,t,s){},"8c0d":function(e,t,s){},a641:function(e,t,s){"use strict";var a=s("8c0d"),n=s.n(a);n.a},a690:function(e,t,s){"use strict";var a=s("fac7"),n=s.n(a);n.a},c465:function(e,t,s){"use strict";var a=s("ca9a"),n=s.n(a);n.a},ca9a:function(e,t,s){},da43:function(e,t,s){},db49:function(e,t){const s="http://localhost:8000/chat",a=["zh-HK","zh-CN","zh-TW","da","nl","en","en-AU","en-CA","en-GB","en-IN","en-US","fr","fr-CA","fr-FR","de","hi","id","it","ja","ko","no","pl","pt-BR","pt","ru","es","es-419","es-ES","sv","th","tr","uk"];e.exports={languageCodes:a,backend:s}},e17a:function(e,t,s){},f5bf:function(e,t,s){"use strict";var a=s("0d3c"),n=s.n(a);n.a},fac7:function(e,t,s){},fcac:function(e,t,s){"use strict";var a=s("da43"),n=s.n(a);n.a}});
//# sourceMappingURL=app.e532c4f8.js.map